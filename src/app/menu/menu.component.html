<!-- src/app/menu/menu.component.html -->
<!-- Dodano wskaźnik statusu Allegro w logo-details -->
<div class="sidebar open">
  <div class="logo-details">
    <i class="bx bxl-c-plus-plus icon"></i>
    <div class="logo_name">VaBanQ ERP</div>
  </div>
  <ul class="nav-list">
    <!-- Search -->
    <li>
      <i class="bx bx-search"></i>
      <input type="text" placeholder="Search..."/>
      <span class="tooltip">Search</span>
    </li>

    <!-- Dashboard -->
    <li>
      <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bx bx-grid-alt"></i>
        <span class="links_name">Dashboard</span>
      </a>
      <span class="tooltip">Dashboard</span>
    </li>

    <li class="category">
      <a routerLink="/items" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bx bx-cube"></i>
        <span class="links_name">Produkty</span>
      </a>
      <span class="tooltip">Produkty</span>
    </li>

    <ul *ngIf="subcategories['items']" class="subcategories">
      <li>
        <a routerLink="/add-item" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bx bxs-plus-circle"></i>
          <span class="links_name">Stwórz produkt</span>
        </a>
        <span class="tooltip">Stwórz nowy produkt</span>
      </li>
      <li>
        <a routerLink="/wms" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bx bx-package"></i>
          <span class="links_name">Stany magazynowe</span>
        </a>
        <span class="tooltip">Stany magazynowe</span>
      </li>
      <li>
        <a routerLink="/generate-eans" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bx bx-barcode"></i>
          <span class="links_name">Generowanie EAN</span>
        </a>
        <span class="tooltip">Generowanie EAN</span>
      </li>
    </ul>

    <li class="category">
      <a routerLink="/offers" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bx bx-store"></i>
        <span class="links_name">Aukcje</span>
      </a>
      <span class="tooltip">Aukcje</span>
    </li>

    <ul *ngIf="subcategories['items']" class="subcategories">
      <li>
        <a routerLink="/orders" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bx bx-cart"></i>
          <span class="links_name">Zamówienia</span>
        </a>
        <span class="tooltip">Zamówienia</span>
      </li>
    </ul>

    <li class="category">
      <a routerLink="/accounting/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bx bx-cube"></i>
        <span class="links_name">Księgowość</span>
      </a>
      <span class="tooltip">Księgowość</span>
    </li>

    <ul *ngIf="subcategories['accounting']" class="subcategories">
      <li>
        <a routerLink="/accounting/invoices" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bx bxs-plus-circle"></i>
          <span class="links_name">Faktury</span>
        </a>
        <span class="tooltip">Faktury</span>
      </li>
    </ul>

    <ul *ngIf="subcategories['accounting']" class="subcategories">
      <li>
        <a routerLink="/accounting/expenses" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bx bxs-plus-circle"></i>
          <span class="links_name">Koszta</span>
        </a>
        <span class="tooltip">Koszta</span>
      </li>
    </ul>

    <!-- Integracje -->
    <li class="integrations-section">
      <div class="integrations-header">
        <i class="bx bx-link-alt"></i>
        <span class="links_name">Integracje</span>
      </div>
      <span class="tooltip">Integracje</span>
    </li>

    <ul class="subcategories">
      <li>
        <div class="integration-item" (click)="onAllegroClick()">
          <div class="integration-info">
            <i class="bx bxl-shopify"></i>
            <span class="links_name">Allegro</span>
          </div>
          <div class="allegro-status-indicator" [ngClass]="getAllegroStatusClass()" [title]="getAllegroStatusTooltip()">
            <div class="status-dot"></div>
          </div>
        </div>
        <span class="tooltip">{{ getAllegroStatusTooltip() }}</span>
      </li>
    </ul>

    <li>
      <a routerLink="/settings" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bx bx-cog"></i>
        <span class="links_name">Ustawienia</span>
      </a>
      <span class="tooltip">Ustawienia</span>
    </li>

    <!-- Profile -->
    <li class="profile">
      <div class="profile-details">
        <div class="name_job">
          <div class="name">{{userProfile?.firstName! + " " + userProfile?.lastName!}}</div>
          <div class="job">{{userProfile?.email!}}</div>
        </div>
      </div>
      <button><i class="bx bx-log-out" id="log_out" (click)="logout()"></i></button>
    </li>
  </ul>
</div>
